
(executable
 (name drf_api)
 (modules drf_api main app analysis tui jui rui solve_drf)
 (libraries
  ; 3rd-party
  cmdliner printbox printbox-text
  ; 1st-party
  stage0 protocols drf inference)
 (foreign_stubs (language c) (names cstub))
 (flags (
   :standard 
   -cclib -install_name
   -cclib "@rpath/libdrf_api.so"
 ))
 (modes (native shared_object)))

(install
 (section lib)
 (files
  (drf_api.so as libdrf_api.so)   ; install libmyproject.so
  (cstub.h as drf_api.h)))         ; install header as myproject.h
